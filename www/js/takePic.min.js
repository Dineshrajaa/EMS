function onDeviceReady(){pictureSource=navigator.camera.PictureSourceType,destinationType=navigator.camera.DestinationType}function capturePhoto(){window.navigator.camera.getPicture(onPhotoDataSuccessCapture,onFail,{quality:4,destinationType:Camera.DestinationType.FILE_URI,correctOrientation:!0})}function onPhotoDataSuccessCapture(e){$("#imgProfile").attr("src",e)}function onFail(e){}function getPhoto(e){navigator.camera.getPicture(onPhotoURISuccess,onFail,{quality:80,destinationType:destinationType.FILE_URI,saveToPhotoAlbum:!1,sourceType:e,allowEdit:!0})}function onPhotoURISuccess(e){window.requestFileSystem(LocalFileSystem.PERSISTENT,0,FileIO.gotFS,FileIO.errorHandler),FileIO.updateCameraImages(e)}function onFail(e){console.log("Failed because: "+e)}function successMove(e){updateImageSrc(e.fullPath),fetchFotos()}document.addEventListener("deviceready",onDeviceReady,!1);var gImageURI="",gFileSystem={},FileIO={gotFS:function(e){gFileSystem=e},updateCameraImages:function(e){gImageURI=e,$("#imgProfile").attr("src",e),$(".ul").css("display","none"),window.resolveLocalFileSystemURI(e,FileIO.gotImageURI,FileIO.errorHandler)},gotImageURI:function(e){var t=guid(),i=new Date,r=(i.getTime(),t+".jpg"),a=window.localStorage.getItem("CreateNewDailyReportId"),o="EMS/"+a;window.requestFileSystem(LocalFileSystem.PERSISTENT,0,function(t){t.root.getDirectory(o,{create:!0,exclusive:!1},function(t){e.moveTo(t,r,successMove,FileIO.errorHandler)},resOnError)},resOnError)},removeDeletedImage:function(e){window.resolveLocalFileSystemURI(e,FileIO.removeFile,FileIO.errorHandler)},removeFile:function(e){e.remove()},errorHandler:function(e){var t="";switch(e.code){case FileError.QUOTA_EXCEEDED_ERR:t="QUOTA_EXCEEDED_ERR";break;case FileError.NOT_FOUND_ERR:t="NOT_FOUND_ERR";break;case FileError.SECURITY_ERR:t="SECURITY_ERR";break;case FileError.INVALID_MODIFICATION_ERR:t="INVALID_MODIFICATION_ERR";break;case FileError.INVALID_STATE_ERR:t="INVALID_STATE_ERR";break;default:t=e.code}console.log("Error: "+t)}};